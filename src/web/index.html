<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATLAS Ä°nteraktif - Daron AcemoÄŸlu</title>
    
    <!-- ModÃ¼ler CSS -->
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <!-- Teori SayfasÄ± -->
    <div id="theory-page" class="page active">
        <div class="theory-container">
            <h1 class="theory-title">Daron AcemoÄŸlu'nun Teorileri</h1>
            
            <div class="books-container">
                <!-- UluslarÄ±n DÃ¼ÅŸÃ¼ÅŸÃ¼ -->
                <div class="book-section left">
                    <div class="book-card">
                        <h2>UluslarÄ±n DÃ¼ÅŸÃ¼ÅŸÃ¼</h2>
                        <h3>(Why Nations Fail)</h3>
                        <div class="book-content">
                            <p class="book-intro">James A. Robinson ile birlikte yazÄ±lan bu Ã§Ä±ÄŸÄ±r aÃ§Ä±cÄ± eser, toplumlarÄ±n ekonomik baÅŸarÄ± ve baÅŸarÄ±sÄ±zlÄ±klarÄ±nÄ±n temelindeki kurumsal yapÄ±larÄ± inceler.</p>
                            
                            <div class="theory-section">
                                <h4>Ana Teori: KapsayÄ±cÄ± vs SÃ¶mÃ¼rÃ¼cÃ¼ Kurumlar</h4>
                                <p><strong>KapsayÄ±cÄ± Ekonomik Kurumlar:</strong> MÃ¼lkiyet haklarÄ±nÄ± gÃ¼vence altÄ±na alan, adil rekabet ortamÄ± saÄŸlayan ve geniÅŸ kitlelerin ekonomik faaliyetlere katÄ±lÄ±mÄ±nÄ± teÅŸvik eden sistemler. Bu kurumlar inovasyon ve ekonomik bÃ¼yÃ¼meyi destekler.</p>
                                
                                <p><strong>SÃ¶mÃ¼rÃ¼cÃ¼ Ekonomik Kurumlar:</strong> KaynaklarÄ±n dar bir elit kesim tarafÄ±ndan kontrol edildiÄŸi, toplumun bÃ¼yÃ¼k Ã§oÄŸunluÄŸunun sÃ¶mÃ¼rÃ¼ldÃ¼ÄŸÃ¼ sistemler. Bu yapÄ±lar uzun vadeli ekonomik geliÅŸmeyi engeller.</p>
                                
                                <p class="key-insight">ğŸ’¡ <strong>Temel ArgÃ¼man:</strong> CoÄŸrafya, kÃ¼ltÃ¼r veya liderlik deÄŸil, kurumlar Ã¼lkelerin zenginlik veya yoksulluk kaderini belirler. KapsayÄ±cÄ± kurumlara sahip toplumlar zenginleÅŸirken, sÃ¶mÃ¼rÃ¼cÃ¼ kurumlara sahip olanlar yoksul kalÄ±r.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Dar Koridor -->
                <div class="book-section right">
                    <div class="book-card">
                        <h2>Dar Koridor</h2>
                        <h3>(The Narrow Corridor)</h3>
                        <div class="book-content">
                            <p class="book-intro">Yine James A. Robinson ile yazÄ±lan bu eser, Ã¶zgÃ¼rlÃ¼k ve demokrasinin nasÄ±l ortaya Ã§Ä±ktÄ±ÄŸÄ±nÄ± ve sÃ¼rdÃ¼rÃ¼lebilir kÄ±ldÄ±ÄŸÄ±nÄ± araÅŸtÄ±rÄ±r.</p>
                            
                            <div class="theory-section">
                                <h4>Ana Teori: Devlet ve Toplum ArasÄ±ndaki Denge</h4>
                                <p><strong>Dar Koridor KavramÄ±:</strong> Ã–zgÃ¼rlÃ¼ÄŸÃ¼n geliÅŸebileceÄŸi hassas denge alanÄ±. Bu koridorda devlet yeterince gÃ¼Ã§lÃ¼dÃ¼r ama toplum da devleti kontrol edebilecek kapasitededir.</p>
                                
                                <p><strong>ÃœÃ§ Senaryo:</strong></p>
                                <ul>
                                    <li><strong>Despotik Leviathan:</strong> Devlet Ã§ok gÃ¼Ã§lÃ¼, toplum zayÄ±f - otoriterlik</li>
                                    <li><strong>ZincirlenmiÅŸ Leviathan:</strong> Denge durumu - Ã¶zgÃ¼rlÃ¼k ve dÃ¼zen bir arada</li>
                                    <li><strong>Yokolan Leviathan:</strong> Devlet Ã§ok zayÄ±f, toplum parÃ§alanmÄ±ÅŸ - kaos</li>
                                </ul>
                                
                                <p class="key-insight">ğŸ’¡ <strong>Temel ArgÃ¼man:</strong> Ã–zgÃ¼rlÃ¼k ne Ã§ok gÃ¼Ã§lÃ¼ devlette ne de Ã§ok zayÄ±f devlette var olabilir. Toplum ve devlet arasÄ±ndaki sÃ¼rekli rekabet ve denge, Ã¶zgÃ¼rlÃ¼ÄŸÃ¼n temel koÅŸuludur. Bu denge "Dar Koridor"da sÃ¼rdÃ¼rÃ¼lmelidir.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <button id="go-to-main" class="nav-button">
                <span>â†’</span> Ana Sayfaya DÃ¶n
            </button>
        </div>
    </div>

    <!-- Ana Sayfa (3D Harita) -->
    <div id="main-page" class="page">
        <!-- Blur Overlay -->
        <div id="blur-overlay"></div>

        <!-- Teoriler Butonu -->
        <button id="theory-button" class="theory-nav-button">
            <span>ğŸ“š</span> Teoriler
        </button>

        <!-- Ana Sayfa Ãœlke Rengi SeÃ§ici -->
        <div id="base-color-selector" class="base-color-selector">
            <label for="base-color-select">Ãœlke Rengi:</label>
            <select id="base-color-select">
                <option value="#27bbd8" selected>Turkuaz</option>
                <option value="#4a90e2">Mavi</option>
                <option value="#7b68ee">Mor</option>
                <option value="#50c878">YeÅŸil</option>
                <option value="#ff6b6b">KÄ±rmÄ±zÄ±</option>
                <option value="#ffa07a">Turuncu</option>
                <option value="#ee82ee">Pembe</option>
                <option value="#20b2aa">Deniz Mavisi</option>
            </select>
        </div>

        <!-- Veri Seti Ãœst Kontrolleri -->
        <header id="dataset-header" style="display: none;">
            <div class="dataset-toggle-group">
                <div class="wgi-btn-wrapper">
                    <button id="wgi-button" class="wgi-btn">WGI</button>
                    <div class="wgi-tooltip">Worldwide Governance Indicators - Ãœlkelerin yÃ¶netiÅŸim gÃ¶stergelerini gÃ¶rselleÅŸtirin</div>
                </div>
                <div class="wgi-btn-wrapper">
                    <button id="vdem-button" class="wgi-btn vdem-btn">V-Dem</button>
                    <div class="wgi-tooltip">Varieties of Democracy - Mind map ve gÃ¶sterge atlasÄ±</div>
                </div>
            </div>
            <div class="wgi-controls" id="wgi-controls">
                <div class="indicator-group" id="indicator-group" style="display: none;">
                    <label for="indicator-select">GÃ¶sterge:</label>
                    <select id="indicator-select">
                        <option value="va">Ses ve Hesap Verebilirlik</option>
                        <option value="pv">Siyasal Ä°stikrar ve Åiddetsizlik</option>
                        <option value="ge">HÃ¼kÃ¼met EtkinliÄŸi</option>
                        <option value="rq">DÃ¼zenleyici Kalite</option>
                        <option value="rl">Hukukun ÃœstÃ¼nlÃ¼ÄŸÃ¼</option>
                        <option value="cc" selected>YolsuzluÄŸun KontrolÃ¼</option>
                    </select>
                </div>
                
                <div class="scale-group" id="scale-group" style="display: none;">
                    <label for="scale-select">Skala:</label>
                    <select id="scale-select">
                        <option value="Turbo" selected>Turbo</option>
                        <option value="Viridis">Viridis</option>
                        <option value="Plasma">Plasma</option>
                        <option value="Magma">Magma</option>
                        <option value="Warm">Warm</option>
                        <option value="Cool">Cool</option>
                        <option value="Cividis">Cividis</option>
                    </select>
                    <label style="margin-left: 6px;">
                        <input type="checkbox" id="scale-reverse" /> Ters
                    </label>
                </div>
                
                <div class="projection-toggle" id="projection-toggle" style="display: none;">
                    <button id="btn-globe" class="proj-btn active">KÃ¼re</button>
                    <button id="btn-flat" class="proj-btn">DÃ¼zlem</button>
                </div>
            </div>

            <div class="vdem-controls" id="vdem-controls" style="display: none;">
                <div class="vdem-indicator-group">
                    <div class="vdem-indicator-meta">
                        <label>SeÃ§ili GÃ¶sterge:</label>
                        <div id="vdem-selected-path" class="vdem-selected-path">Mind map Ã¼zerinden seÃ§in</div>
                    </div>
                    <button id="open-vdem-mindmap" class="mindmap-return-btn">Mind Map</button>
                </div>
                <div class="scale-group" id="vdem-scale-group">
                    <label for="vdem-scale-select">Skala:</label>
                    <select id="vdem-scale-select">
                        <option value="Turbo" selected>Turbo</option>
                        <option value="Viridis">Viridis</option>
                        <option value="Plasma">Plasma</option>
                        <option value="Magma">Magma</option>
                        <option value="Warm">Warm</option>
                        <option value="Cool">Cool</option>
                        <option value="Cividis">Cividis</option>
                    </select>
                    <label style="margin-left: 6px;">
                        <input type="checkbox" id="vdem-scale-reverse" /> Ters
                    </label>
                </div>
                
                <div class="projection-toggle" id="vdem-projection-toggle">
                    <button id="vdem-btn-globe" class="proj-btn active">KÃ¼re</button>
                    <button id="vdem-btn-flat" class="proj-btn">DÃ¼zlem</button>
                </div>
            </div>
        </header>

        <!-- SeÃ§ili Ãœlke Bilgi Kutusu (Eski - Gizlenecek) -->
        <div id="country-info" style="display: none;">
            <div id="country-name">Bir Ã¼lkeye tÄ±klayÄ±n</div>
        </div>

        <!-- 3D Harita Konteyneri -->
        <div id="globe-container"></div>

        <!-- 2D DÃ¼zlemsel Harita Konteyneri -->
        <div id="flatmap-container" style="display: none;">
            <svg width="0" height="0" style="position: absolute;">
                <defs>
                    <pattern id="map-nodata-pattern" patternUnits="userSpaceOnUse" width="6" height="6" patternTransform="rotate(45)">
                        <rect width="6" height="6" fill="#2d3748"/>
                        <line x1="0" y1="0" x2="0" y2="6" stroke="#e5e7eb" stroke-width="2"/>
                    </pattern>
                </defs>
            </svg>
        </div>

        <!-- YÄ±l KaydÄ±rÄ±cÄ±sÄ± ve Legend (Alt Orta) -->
        <div id="year-slider-container" style="display: none;">
            <div class="legend" id="legend" style="display: none;">
                <div class="legend-wrapper">
                    <svg class="legend-svg" width="500" height="60" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="wgi-gradient" x1="0%" y1="0%" x2="100%" y2="0%"></linearGradient>
                            <pattern id="nodata-pattern" patternUnits="userSpaceOnUse" width="8" height="8" patternTransform="rotate(45)">
                                <rect width="8" height="8" fill="#4a5568"/>
                                <line x1="0" y1="0" x2="0" y2="8" stroke="#e5e7eb" stroke-width="2.5"/>
                            </pattern>
                        </defs>
                        <rect x="0" y="0" width="400" height="20" fill="url(#wgi-gradient)" rx="10" ry="10" stroke="rgba(255,255,255,0.3)" stroke-width="1"/>
                        <rect class="legend-segment-svg" data-range="-2.5:-1.5" x="0" y="0" width="80" height="20" fill="transparent" style="cursor: pointer;"/>
                        <rect class="legend-segment-svg" data-range="-1.5:-0.5" x="80" y="0" width="80" height="20" fill="transparent" style="cursor: pointer;"/>
                        <rect class="legend-segment-svg" data-range="-0.5:0.5" x="160" y="0" width="80" height="20" fill="transparent" style="cursor: pointer;"/>
                        <rect class="legend-segment-svg" data-range="0.5:1.5" x="240" y="0" width="80" height="20" fill="transparent" style="cursor: pointer;"/>
                        <rect class="legend-segment-svg" data-range="1.5:2.5" x="320" y="0" width="80" height="20" fill="transparent" style="cursor: pointer;"/>
                        <text x="0" y="40" font-size="11" fill="white" font-weight="600" text-anchor="start">-2.5</text>
                        <text x="80" y="40" font-size="11" fill="white" font-weight="600" text-anchor="middle">-1.5</text>
                        <text x="160" y="40" font-size="11" fill="white" font-weight="600" text-anchor="middle">-0.5</text>
                        <text x="240" y="40" font-size="11" fill="white" font-weight="600" text-anchor="middle">0.5</text>
                        <text x="320" y="40" font-size="11" fill="white" font-weight="600" text-anchor="middle">1.5</text>
                        <text x="400" y="40" font-size="11" fill="white" font-weight="600" text-anchor="end">2.5</text>
                        <g class="legend-nodata-svg" data-range="nodata" style="cursor: pointer;">
                            <rect x="430" y="0" width="50" height="20" fill="url(#nodata-pattern)" rx="5" ry="5" stroke="rgba(255,255,255,0.3)" stroke-width="1"/>
                            <text x="455" y="40" font-size="11" fill="white" font-weight="600" text-anchor="middle">Veri Yok</text>
                        </g>
                    </svg>
                </div>
            </div>
            
            <div class="year-controls">
                <input type="range" id="year-slider" min="1996" max="2023" step="1" value="2023" />
                <div class="year-readout">
                    <span>YÄ±l:</span> <strong id="year-label">2023</strong>
                </div>
            </div>
        </div>

        <!-- V-Dem YÄ±l KaydÄ±rÄ±cÄ±sÄ± ve Legend -->
        <div id="vdem-year-slider-container" style="display: none;">
            <div class="legend" id="vdem-legend" style="display: none;">
                <div class="legend-wrapper">
                    <svg class="legend-svg" width="500" height="60" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="vdem-gradient" x1="0%" y1="0%" x2="100%" y2="0%"></linearGradient>
                            <pattern id="vdem-nodata-pattern" patternUnits="userSpaceOnUse" width="8" height="8" patternTransform="rotate(45)">
                                <rect width="8" height="8" fill="#2d2d3a"/>
                                <line x1="0" y1="0" x2="0" y2="8" stroke="#c1c7d6" stroke-width="2.5"/>
                            </pattern>
                        </defs>
                        <rect x="0" y="0" width="400" height="20" fill="url(#vdem-gradient)" rx="10" ry="10" stroke="rgba(255,255,255,0.3)" stroke-width="1"/>
                        <text id="vdem-legend-min" x="0" y="40" font-size="11" fill="white" font-weight="600" text-anchor="start">0</text>
                        <text id="vdem-legend-mid" x="200" y="40" font-size="11" fill="white" font-weight="600" text-anchor="middle">0.5</text>
                        <text id="vdem-legend-max" x="400" y="40" font-size="11" fill="white" font-weight="600" text-anchor="end">1</text>
                        <g class="legend-nodata-svg" data-range="nodata" style="cursor: default;">
                            <rect x="430" y="0" width="50" height="20" fill="url(#vdem-nodata-pattern)" rx="5" ry="5" stroke="rgba(255,255,255,0.3)" stroke-width="1"/>
                            <text x="455" y="40" font-size="11" fill="white" font-weight="600" text-anchor="middle">Veri Yok</text>
                        </g>
                    </svg>
                </div>
            </div>
            
            <div class="year-controls">
                <input type="range" id="vdem-year-slider" min="1900" max="2023" step="1" value="2023" />
                <div class="year-readout">
                    <span>YÄ±l:</span> <strong id="vdem-year-label">2023</strong>
                </div>
            </div>
        </div>

        <!-- 2D Harita Tooltip -->
        <div id="tooltip" class="map-tooltip" style="display: none;"></div>

        <!-- SaÄŸ Panel - Ãœlke DetaylarÄ± -->
        <div id="country-panel" class="country-panel">
            <button id="close-panel" class="close-panel-btn">&times;</button>
            
            <div class="panel-header">
                <img id="country-flag" class="country-flag" src="" alt="Bayrak">
                <h2 id="panel-country-name">Ãœlke AdÄ±</h2>
            </div>

            <div class="panel-content">
                <div class="panel-section">
                    <h3 class="panel-section-title">ğŸ“– UluslarÄ±n DÃ¼ÅŸÃ¼ÅŸÃ¼</h3>
                    <div class="panel-section-content">
                        <p id="nations-fail-text">Bu Ã¼lke iÃ§in analiz yÃ¼kleniyor...</p>
                    </div>
                </div>

                <div class="panel-section">
                    <h3 class="panel-section-title">ğŸ›ï¸ Dar Koridor</h3>
                    <div class="panel-section-content">
                        <div class="corridor-graphic" id="corridor-graphic-main">
                            <div class="axis-label y-axis">Devletin GÃ¼cÃ¼</div>
                            <div class="axis-label x-axis">Toplumun GÃ¼cÃ¼</div>
                            <img src="assets/images/darKoridorGrafigiYazili.png" alt="Dar Koridor GrafiÄŸi">
                            <div id="country-position-dot" class="position-dot"></div>
                            <div id="corridor-tooltip" class="corridor-tooltip"></div>
                        </div>
                        
                        <div class="corridor-info-bar" id="corridor-info-bar">
                            <div class="info-item">
                                <span class="info-label">Devlet GÃ¼cÃ¼:</span>
                                <span class="info-value state-power">--</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Toplum GÃ¼cÃ¼:</span>
                                <span class="info-value society-power">--</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Tip:</span>
                                <span class="info-value leviathan-type">--</span>
                            </div>
                        </div>
                        
                        <div class="corridor-year-slider" id="corridor-year-slider">
                            <input type="range" id="corridor-year-input" min="1996" max="2023" step="1" value="2023" />
                            <div class="corridor-year-display">
                                <span>YÄ±l:</span> <strong id="corridor-year-label">2023</strong>
                            </div>
                        </div>
                        
                        <div class="corridor-interactive-toggle">
                            <button id="toggle-interactive-map" class="interactive-map-btn">
                                <span>ğŸ“Š</span> BÃ¼tÃ¼n Ãœlkeleri GÃ¶ster
                            </button>
                        </div>
                        
                        <div id="interactive-map-controls" class="interactive-map-controls" style="display: none;">
                            <div class="corridor-stats-filters" id="corridor-stats-filters"></div>
                        </div>
                        
                        <p id="corridor-text" class="corridor-analysis">Bu Ã¼lke iÃ§in Dar Koridor analizi yÃ¼kleniyor...</p>
                    </div>
                </div>
            </div>

            <div class="panel-footer">
                <button id="corridor-action-btn" class="corridor-action-btn">
                    ğŸšª Dar Koridora Gir/Orada Kal
                </button>
            </div>
        </div>

        <!-- Sol Alt Mesaj Kutusu - AI Chat -->
        <div id="ai-chat-box" class="ai-chat-box">
            <div class="chat-trigger">
                <span class="chat-text">AI'a Sor</span>
            </div>

            <div id="chat-area" class="chat-area">
                <div class="chat-header">
                    <h3>ATLAS AI AsistanÄ±</h3>
                    <button id="close-chat" class="close-chat-btn">&times;</button>
                </div>
                <div class="chat-messages" id="chat-messages">
                    <div class="ai-message">
                        Merhaba! Ben ATLAS AI AsistanÄ±. Daron AcemoÄŸlu'nun teorileri, Ã¼lkelerin kurumsal yapÄ±larÄ± ve Dar Koridor analizi hakkÄ±nda size yardÄ±mcÄ± olabilirim.
                        
                        SorularÄ±nÄ±zÄ± bekliyorum!
                    </div>
                </div>
                <div class="chat-input-area">
                    <input type="text" id="chat-input" placeholder="Sorunuzu yazÄ±n..." />
                    <button id="send-chat" class="send-chat-btn">ğŸ“¤</button>
                </div>
            </div>
        </div>
    </div>

    <!-- V-Dem Mind Map Overlay -->
    <div id="vdem-overlay" class="vdem-overlay" aria-hidden="true">
        <div class="vdem-overlay-panel">
            <div class="vdem-overlay-header">
                <div>
                    <h2>V-Dem Mind Map</h2>
                    <p>YukarÄ±dan aÅŸaÄŸÄ±ya aÃ§Ä±lan Ã§ok seviyeli aÄŸaÃ§. DallarÄ± tek tÄ±kla aÃ§/kapatÄ±n, gÃ¶stergeleri Ã§ift tÄ±klayarak kÃ¼re Ã¼zerinde gÃ¶rÃ¼n.</p>
                </div>
                <div class="overlay-actions">
                    <button id="vdem-overlay-close" class="mindmap-close-btn">Kapat</button>
                </div>
            </div>
            <div class="vdem-mindmap-stage" id="vdem-mindmap-stage">
                <div id="vdem-mindmap" class="vdem-mindmap">
                    <div class="vdem-loading">Mind map yÃ¼kleniyor...</div>
                </div>
            </div>
            <div class="vdem-overlay-footer">
                <span>ğŸ–±ï¸ SÃ¼rÃ¼kleyerek pan yapabilir, Ã§ift tÄ±klayarak seÃ§ili gÃ¶stergeyle haritaya geÃ§ebilirsiniz.</span>
            </div>
        </div>
    </div>

    <!-- External Libraries -->
    <script src="https://unpkg.com/globe.gl"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3@7/dist/d3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    
    <!-- ModÃ¼ler JavaScript (ES6 Modules) -->
    <script type="module" src="scripts/main.js"></script>
    
    <!-- NOT: ModÃ¼ler yapÄ± kademeli olarak tamamlanacaktÄ±r -->
    <!-- GeÃ§ici olarak eski script.js yedekte tutulmuÅŸtur: script.js.backup -->
</body>
</html>
